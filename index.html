<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gadget Rental Portal</title>
<style>
  body {
    font-family: 'Segoe UI', sans-serif;
    margin: 0;
    background: linear-gradient(135deg, #fcefee, #e3f6f5, #fff6e9);
    color: #333;
  }
  header {
    background: #a3c4f3;  /* pastel blue */
    color: #fff;
    text-align: center;
    padding: 20px;
    border-bottom: 4px solid #d8e2f1;
  }
  header h1 { margin: 0; }
  main {
    max-width: 900px;
    margin: 30px auto;
    padding: 0 20px;
  }
  h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #6b5b95; /* pastel purple */
  }
  .gadget-list {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 25px;
  }
  .gadget-card {
    background: #ffffff;
    border-radius: 12px;
    box-shadow: 0 3px 8px rgba(180, 167, 167, 0.15);
    width: 250px;
    padding: 15px;
    text-align: center;
    border: 2px solid #fde2e4; /* pastel pink border */
  }
  .gadget-card img {
    width: 100%;
    height: 160px;
    object-fit: cover;
    border-radius: 10px;
  }
  .gadget-card h3 { margin: 12px 0 6px; color: #444; }
  .btn-rent {
    background: #f7aef8; /* pastel pink-purple */
    color: white;
    border: none;
    padding: 10px 15px;
    margin-top: 12px;
    border-radius: 6px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
  }
  .btn-rent:hover { background: #e495e4; }
  form {
    background: #ffffff;
    max-width: 600px;
    margin: 40px auto;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(200, 170, 170, 0.2);
    border: 2px solid #cce5d0; /* pastel mint */
  }
  form label {
    display: block;
    margin-top: 12px;
    font-weight: bold;
    color: #444;
  }
  form input, form select, form textarea {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    border: 1px solid #ddd;
    border-radius: 8px;
    font-size: 1rem;
    background: #fafafa;
    transition: 0.3s;
  }
  form input:focus, form select:focus, form textarea:focus {
    outline: none;
    border-color: #a3c4f3; /* pastel blue focus */
    background: #f0f8ff;
  }
  textarea { resize: none; }
  .gender-options {
    display: flex;
    gap: 20px;
    margin: 8px 0;
  }
  .terms {
    margin-top: 15px;
  }
  .error { color: #e76f51; font-size: 0.9rem; }
  button {
    margin-top: 20px;
    width: 100%;
    padding: 12px;
    background: #90e0ef; /* pastel aqua */
    color: #333;
    border: none;
    font-size: 1.1rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: bold;
    transition: 0.3s;
  }
  button:hover { background: #48cae4; color: white; }
  .success {
    text-align: center;
    margin-top: 15px;
    color: #2a9d8f; /* pastel green */
    font-weight: bold;
  }
</style>

</head>
<body>

<header>
  <h1>Gadget Rental Portal</h1>
  <p>Adopt a gadget & boost your projects ðŸš€</p>
</header>

<main>
  <section>
    <h2>Available Gadgets</h2>
    <div class="gadget-list" id="gadgetList"></div>
  </section>

  <section>
    <h2>Rental Form</h2>
    <form id="rentalForm" novalidate>
      <label for="name">Full Name *</label>
      <input type="text" id="name" name="name" required>
      <div class="error" id="nameError"></div>

      <label for="email">College Email  *</label>
      <input type="email" id="email" name="email" required>
      <div class="error" id="emailError"></div>

      <label for="phone">Phone Number *</label>
      <input type="text" id="phone" name="phone" required>
      <div class="error" id="phoneError"></div>

      <label for="zip">Zip Code / PIN *</label>
      <input type="text" id="zip" name="zip" required>
      <div class="error" id="zipError"></div>

      <label for="dob">Date of Birth *</label>
      <input type="date" id="dob" name="dob" required>
      <div class="error" id="dobError"></div>

      <label>Gender *</label>
      <div class="gender-options">
        <label><input type="radio" name="gender" value="Male" required> Male</label>
        <label><input type="radio" name="gender" value="Female"> Female</label>
        <label><input type="radio" name="gender" value="Other"> Other</label>
      </div>
      <div class="error" id="genderError"></div>

      <label for="reason">Why do you need this gadget? *</label>
      <textarea id="reason" name="reason" rows="3" required></textarea>
      <div class="error" id="reasonError"></div>

      <label for="rentDate">Rent Start Date *</label>
      <input type="date" id="rentDate" name="rentDate" required>
      <div class="error" id="rentDateError"></div>

      <label for="returnDate">Return Date *</label>
      <input type="date" id="returnDate" name="returnDate" required>
      <div class="error" id="returnDateError"></div>

      <label for="gadget">Select Gadget *</label>
      <select id="gadget" name="gadget" required>
        <option value="">-- Choose a gadget --</option>
      </select>
      <div class="error" id="gadgetError"></div>

      <div class="terms">
        <label>
          <input type="checkbox" id="terms" required> I agree to the Terms & Conditions
        </label>
      </div>
      <div class="error" id="termsError"></div>

      <button type="submit">Submit Request</button>
      <div class="success" id="successMessage"></div>
    </form>
  </section>
</main>

<script>
const gadgets = [
  {id:"g1", name:"Laptop", image:"assets/laptop.jpg"},
  {id:"g2", name:"Raspberry Pi Kit", image:"assets/raspberry pi.jpg"},
  {id:"g3", name:"Drone", image:"assets/drone.jpg"},
  {id:"g4", name:"VR Headset", image:"assets/vr headset.jpg"}
];


// populate gadget cards and dropdown
const gadgetList = document.getElementById("gadgetList");
const gadgetSelect = document.getElementById("gadget");

gadgets.forEach(g => {
  const card = document.createElement("div");
  card.className = "gadget-card";
  card.innerHTML = `
    <img src="${g.image}" alt="${g.name}">
    <h3>${g.name}</h3>
    <button class="btn-rent" onclick="selectGadget('${g.id}')">Rent me</button>
  `;
  gadgetList.appendChild(card);

  const opt = document.createElement("option");
  opt.value = g.id;
  opt.textContent = g.name;
  gadgetSelect.appendChild(opt);
});

function selectGadget(gadgetId){
  gadgetSelect.value = gadgetId;
  gadgetSelect.focus();
  window.scrollTo({top:gadgetSelect.getBoundingClientRect().top + window.scrollY - 80, behavior:"smooth"});
}

// validation
document.getElementById("rentalForm").addEventListener("submit", function(e){
  e.preventDefault();
  let valid = true;

  // clear
  document.querySelectorAll(".error").forEach(el => el.textContent = "");
  document.getElementById("successMessage").textContent = "";

  const nameVal = this.name.value.trim();
  if(!/^[A-Za-z\s]{4,}$/.test(nameVal)){
    document.getElementById("nameError").textContent = "Name must be 4+ chars, alphabets & spaces only.";
    valid = false;
  }

  const emailVal = this.email.value.trim();
  if(!/^[a-zA-Z0-9._%+-]+@kpriet\.ac\.in$/.test(emailVal)){
    document.getElementById("emailError").textContent = "Only kpriet.ac.in emails allowed.";
    valid = false;
  }

  const phoneVal = this.phone.value.trim();
  if(!/^(\+91[- ]?)?[6-9]\d{9}$/.test(phoneVal)){
    document.getElementById("phoneError").textContent = "Enter valid phone (9876543210 or +91-9876543210).";
    valid = false;
  }

  const zipVal = this.zip.value.trim();
  if(!/^\d{6}$/.test(zipVal)){
    document.getElementById("zipError").textContent = "Zip/PIN must be exactly 6 digits.";
    valid = false;
  }

  const dobVal = this.dob.value;
  if(!dobVal){
    document.getElementById("dobError").textContent = "Enter your Date of Birth.";
    valid = false;
  } else {
    const dob = new Date(dobVal);
    const today = new Date();
    let age = today.getFullYear() - dob.getFullYear();
    const m = today.getMonth() - dob.getMonth();
    if(m<0 || (m===0 && today.getDate()<dob.getDate())) age--;
    if(age < 18){
      document.getElementById("dobError").textContent = "Must be at least 18 years old.";
      valid = false;
    }
  }

  if(!this.gender.value){
    document.getElementById("genderError").textContent = "Please select your gender.";
    valid = false;
  }

  if(this.reason.value.trim().length < 5){
    document.getElementById("reasonError").textContent = "Please enter a valid reason (min 5 chars).";
    valid = false;
  }

  if(!this.rentDate.value){
    document.getElementById("rentDateError").textContent = "Select a rent start date.";
    valid = false;
  }

  if(!this.returnDate.value){
    document.getElementById("returnDateError").textContent = "Select a return date.";
    valid = false;
  } else if(this.rentDate.value && new Date(this.returnDate.value) <= new Date(this.rentDate.value)){
    document.getElementById("returnDateError").textContent = "Return date must be after rent start date.";
    valid = false;
  }

  if(!this.gadget.value){
    document.getElementById("gadgetError").textContent = "Please select a gadget.";
    valid = false;
  }

  if(!this.terms.checked){
    document.getElementById("termsError").textContent = "You must agree to Terms & Conditions.";
    valid = false;
  }

  if(valid){
    document.getElementById("successMessage").textContent = "âœ… Request submitted! Your gadget rental is being processed.";
    this.reset();
    gadgetSelect.value = "";
  }
});
</script>

</body>
</html>
